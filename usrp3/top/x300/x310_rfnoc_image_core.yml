# General parameters
# -----------------------------------------
schema: rfnoc_imagebuilder_args         # Identifier for the schema used to validate this file
copyright: 'Ettus Research, A National Instruments Brand' # Copyright information used in file headers
license: 'SPDX-License-Identifier: LGPL-3.0-or-later' # License information used in file headers
version: 1.0                            # File version
rfnoc_version: 1.0                      # RFNoC protocol version
chdr_width: 64                          # Bitwidth of the CHDR bus for this block
device_desc: 'x310_hg_desc.xml'         # USRP device descriptor file

# A list of all stream endpoints in design
# ----------------------------------------
stream_endpoints:
    ep0:                       # Stream endpoint name
      ctrl: True                      # Endpoint passes control traffic
      data: True                      # Endpoint passes data traffic
      buff_size: 32768                # Ingress buffer size for data
    ep1:                       # Stream endpoint name
      ctrl: False                     # Endpoint passes control traffic
      data: True                      # Endpoint passes data traffic
      buff_size: 0                    # Ingress buffer size for data
    ep2:                       # Stream endpoint name
      ctrl: False                     # Endpoint passes control traffic
      data: True                      # Endpoint passes data traffic
      buff_size: 32768                # Ingress buffer size for data
    ep3:                       # Stream endpoint name
      ctrl: False                     # Endpoint passes control traffic
      data: True                      # Endpoint passes data traffic
      buff_size: 0                    # Ingress buffer size for data

# A list of all NoC blocks in design
# ----------------------------------
noc_blocks:
    duc0:                     # NoC block name
      block_desc: 'duc_1x64.yml'     # Block device descriptor
    ddc0:
      block_desc: 'ddc_2x64.yml'
    radio0:
      block_desc: 'radio_2x64.yml'
    duc1:                     # NoC block name
      block_desc: 'duc_1x64.yml'     # Block device descriptor
    ddc1:
      block_desc: 'ddc_2x64.yml'
    radio1:
      block_desc: 'radio_2x64.yml'

# A list of all static connections in design
# ------------------------------------------
# Format: A list of connection maps (list of key-value pairs) with the following keys
#         - srcblk = Source block to connect
#         - srcport = Port on the source block to connect
#         - dstblk = Destination block to connect
#         - dstport = Port on the destination block to connect
connections:
    - { srcblk: ep0,  srcport: out0, dstblk: duc0, dstport: port0 }
    - { srcblk: duc0, srcport: port0, dstblk: radio0, dstport: port0 }
    - { srcblk: radio0, srcport: port0, dstblk: ddc0,  dstport: port0 }
    - { srcblk: radio0, srcport: port1, dstblk: ddc0,  dstport: port1 }
    - { srcblk: ddc0, srcport: port0, dstblk: ep0,  dstport: in0 }
    - { srcblk: ddc0, srcport: port1, dstblk: ep1,  dstport: in0 }
    - { srcblk: ep2,  srcport: out0, dstblk: duc1, dstport: port0 }
    - { srcblk: duc1, srcport: port0, dstblk: radio1, dstport: port0 }
    - { srcblk: radio1, srcport: port0, dstblk: ddc1,  dstport: port0 }
    - { srcblk: radio1, srcport: port1, dstblk: ddc1,  dstport: port1 }
    - { srcblk: ddc1, srcport: port0, dstblk: ep2,  dstport: in0 }
    - { srcblk: ddc1, srcport: port1, dstblk: ep3,  dstport: in0 }
    - { srcblk: radio0, srcport: ctrl_port, dstblk: _device_, dstport: ctrlport_radio0 }
    - { srcblk: radio1, srcport: ctrl_port, dstblk: _device_, dstport: ctrlport_radio1 }
    - { srcblk: _device_, srcport: x300_radio0, dstblk: radio0, dstport: x300_radio }
    - { srcblk: _device_, srcport: x300_radio1, dstblk: radio1, dstport: x300_radio }
    - { srcblk: _device_, srcport: time_keeper, dstblk: radio0, dstport: time_keeper }
    - { srcblk: _device_, srcport: time_keeper, dstblk: radio1, dstport: time_keeper }

# A list of all clock domain connections in design
# # ------------------------------------------
# # Format: A list of connection maps (list of key-value pairs) with the following keys
# #         - srcblk  = Source block to connect (Always "_device"_)
# #         - srcport = Clock domain on the source block to connect
# #         - dstblk  = Destination block to connect
# #         - dstport = Clock domain on the destination block to connect
clk_domains:
    - { srcblk: _device_, srcport: radio, dstblk: radio0, dstport: radio }
    - { srcblk: _device_, srcport: ce, dstblk: ddc0, dstport: ddc }
    - { srcblk: _device_, srcport: ce, dstblk: duc0, dstport: duc }
    - { srcblk: _device_, srcport: radio, dstblk: radio1, dstport: radio }
    - { srcblk: _device_, srcport: ce, dstblk: ddc1, dstport: ddc }
    - { srcblk: _device_, srcport: ce, dstblk: duc1, dstport: duc }

